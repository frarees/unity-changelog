### Known Issues in 2021.2.9f1

*   2D: Unable to find URP 12.1.0 package error when importing Lost Crypt ([1388129](https://issuetracker.unity3d.com/issues/2d-lost-crypt-unable-to-find-urp-12-dot-1-0-package-error-when-importing-lost-crypt))
    
*   AI Navigation: NavMesh Agent can not pass through passable area between carving NavMesh Obstacles ([1346325](https://issuetracker.unity3d.com/issues/navmesh-agent-can-not-pass-through-passable-area-between-carving-navmesh-obstacles))
    
*   Android: Sometimes text is not rendered when using OpengLES3 on a Xiaomi Redmi9A device. ([1347186](https://issuetracker.unity3d.com/issues/android-the-text-is-missing-on-a-xiaomi-redmi9a-device))
    
*   Animation: Playback is incorrect when using Asset Bundle exported from Unity 5.6.7f1 ([1390123](https://issuetracker.unity3d.com/issues/animation-playback-is-incorrect-when-using-asset-bundle-exported-from-unity-5-dot-6-7f1))
    
*   Asset - Database: Crash when entering Play Mode and serializing data right after recompilation of script changes ([1346442](https://issuetracker.unity3d.com/issues/crash-when-entering-play-mode-and-serializing-data-after-modifying-script))
    
*   Asset - Database: Editor hangs on exit when importing Maya files and exiting the Editor ([1378586](https://issuetracker.unity3d.com/issues/editor-hangs-on-exit-when-importing-maya-files-and-exiting-the-editor))
    
*   Asset Bundles: Size incrementally increases when updating the Unity Editor and rebuilding the Asset Bundle ([1391542](https://issuetracker.unity3d.com/issues/asset-bundle-size-incrementally-increases-when-updating-the-unity-editor-and-rebuilding-the-asset-bundle))
    
*   Build Pipeline: Windows build fails when using Deltatre Magma Engine ([1382217](https://issuetracker.unity3d.com/issues/windows-build-fails-when-using-deltatre-magma-engine))
    
*   HDRP: \[General\]\[AssetDB\] Adding URP to the project causes reimports of many assets and goes into infinite import loops ([1374611](https://issuetracker.unity3d.com/issues/general-assetdb-urp-adding-urp-to-the-project-causes-reimports-of-many-assets-and-goes-into-infinite-import-loops))
    
*   IL2CPP: "BuildFailedException" and Bee errors are thrown in the Console window when building project for Android ([1391435](https://issuetracker.unity3d.com/issues/il2cpp-buildfailedexception-and-bee-errors-are-thrown-in-the-console-window-when-building-project-for-android))
    
*   Inspector Framework: In Record and Preview mode, right clicking Scale does not bring up Animation related features ([1365369](https://issuetracker.unity3d.com/issues/in-record-and-preview-mode-right-clicking-scale-does-not-bring-up-animation-related-features))
    
*   Linux: Player settings and other options are locked after script compilation ([1380015](https://issuetracker.unity3d.com/issues/linux-player-settings-and-other-options-are-locked-after-script-compilation))
    
*   Linux: Editor crashes at "RegisterRuntimeInitializeAndCleanup::ExecuteCleanup()" when quitting from "Enter Safe Mode" prompt ([1374087](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-registerruntimeinitializeandcleanup-executecleanup-when-quitting-from-enter-safe-mode-prompt))
    
*   Linux: Editor crashes at "\_\_assert\_fail\_base.cold" when opening a project ([1375312](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-assert-fail-base-dot-cold-when-opening-a-project))
    
*   Linux: Editor crashes at "CompareObjectUndo" when rapidly selecting and deselecting vertices in UModeler ([1383598](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-compareobjectundo-when-rapidly-selecting-and-deselecting-vertices-in-umodeler))
    
*   MacOS: \[M1\] "System is running out of memory" error is thrown when using Profiler as a Standalone Process with Deep Profile turned on ([1386242](https://issuetracker.unity3d.com/issues/system-is-running-out-of-memory-is-being-thrown-when-using-profiler-as-a-standalone-process-with-deep-profile-turned-on))
    
*   MacOS: \[OSX\]\[Editor\] DirectoryNotFoundException errors appear when a project is created inside a directory with unicode characters ([1377915](https://issuetracker.unity3d.com/issues/multiple-directorynotfoundexception-errors-appear-when-a-project-is-created-inside-a-directory-with-unicode-characters))
    
*   Metal: Stuttering in Play mode when VSync is disabled ([1373811](https://issuetracker.unity3d.com/issues/metal-stuttering-in-play-mode-when-vsync-is-disabled))
    
*   Metal: Application crashes when "Metal Write-Only Backbuffer" is enabled ([1379210](https://issuetracker.unity3d.com/issues/application-crashes-when-metal-write-only-backbuffer-is-enabled))
    
*   Metal: Consistent EditorLoop 5-10ms spikes when using Metal API ([1378985](https://issuetracker.unity3d.com/issues/consistent-gfx-dot-waitforpresentongfxthread-5-10ms-spikes-when-using-metal-api))
    
*   Mono: Crash on assertion "condition is\_ok (error) not met" when entering the play mode ([1394314](https://issuetracker.unity3d.com/issues/crash-on-assertion-condition-is-ok-error-not-met-when-entering-the-play-mode))
    
*   Networking: UnityWebRequest.SendWebRequest delay occurring in 2019.4.30f1 and above ([1382113](https://issuetracker.unity3d.com/issues/networking-unitywebrequest-dot-sendwebrequest-delay-occurring-in-2019-dot-4-30f1-and-above))
    
*   OpenGL: Unity crashes when entering "-force-opengl" or "-force-glcore" in the Advanced Project Settings ([1374768](https://issuetracker.unity3d.com/issues/unity-crashes-when-entering-force-opengl-or-force-glcore-in-the-advanced-project-settings))
    
*   Profiling: Profiler's 'Call Stacks' button gets out of sync with PlayerConnection when the button is toggled after connecting to Player ([1377934](https://issuetracker.unity3d.com/issues/profiler-profilers-call-stacks-button-gets-out-of-sync-with-playerconnection-when-its-toggled-after-connecting-to-player))
    
*   Progressive Lightmapper: Crash while sculpting Terrain and Baking Lightmaps ([1266511](https://issuetracker.unity3d.com/issues/crash-while-sculpting-terrain))
    
*   Progressive Lightmapper: Unity 2021.2 crashes on some Windows7 PCs when tbb12.dll gets loaded ([1361676](https://issuetracker.unity3d.com/issues/unity-2021-dot-2-crashes-on-some-windows-machines-when-tbb12-dot-dll-gets-loaded))
    
*   Progressive Lightmapper: \[GPU PLM\] Crash after enabling Auto at the end of Bake - OpenCLRenderLightmapBuffers.HasBakingBuffers() ([1389093](https://issuetracker.unity3d.com/issues/gpu-plm-crash-after-enabling-auto-at-the-end-of-bake-openclrenderlightmapbuffers-dot-hasbakingbuffers))
    
*   Progressive Lightmapper: \[GPU PLM\] Crash due to out of bounds access violation in PowerSampling after enabling auto mode at the end of bake on AMD GPU ([1379762](https://issuetracker.unity3d.com/issues/gpu-plm-crash-in-nvopencl64-clgetplatforminfo-after-enabling-auto-generate-checkbox-at-the-end-of-gi-bake))
    
*   Progressive Lightmapper: \[GPU PLM\] Fallback to CPU PLM in CL\_INVALID\_MEM\_OBJECT after switching light color only and rebaking GI ([1356714](https://issuetracker.unity3d.com/issues/gpu-plm-switch-light-color-only-and-rebake-causes-fallback))
    
*   Scene Management: Crash on UndoManager::CheckConsistencyOfAffectedTransforms after undoing script instantiated Prefabs ([1382649](https://issuetracker.unity3d.com/issues/crash-on-undomanager-checkconsistencyofaffectedtransforms-after-undoing-script-instantiated-prefabs))
    
*   Scene Management: Crash when calling hideFlags after removing missing nested prefab ([1381563](https://issuetracker.unity3d.com/issues/crash-when-calling-hideflags-after-removing-missing-nested-prefab))
    
*   Scene/Game View: Camera resolution is set to default when opening the Editor ([1378321](https://issuetracker.unity3d.com/issues/camera-resolution-is-set-to-default-when-opening-the-editor))
    
*   Scene/Game View: TransientSceneViewOverlays are causing RepaintAll and GPU/CPU usage increases to 20-30% when hover over Camera preview window ([1381613](https://issuetracker.unity3d.com/issues/transientsceneviewoverlays-are-causing-repaintall-and-gpu-slash-cpu-usage-increases-to-20-30-percent-when-hover-over-camera-preview-window))
    
*   Scripting: Only some assemblies fail to be loaded when assembly name does not match the file name ([1345099](https://issuetracker.unity3d.com/issues/only-some-assemblies-fail-to-be-loaded-when-assembly-name-does-not-match-the-file-name))
    
*   Scripting: \[MacOS\] An Unhandled exception is thrown in the Editor.log and Console window when trying to build AssetBundles ([1383700](https://issuetracker.unity3d.com/issues/an-unhandled-exception-is-thrown-in-the-editor-dot-log-and-console-window-when-trying-to-build-assetbundles))
    
*   Shader System: Shader stripping crashes when it gets too many variants ([1388530](https://issuetracker.unity3d.com/issues/shader-stripping-crashes-when-it-gets-too-many-variants))
    
*   Shadows/Lights: Scene is brighter in Standalone player if it was open in the Editor at build time ([1375015](https://issuetracker.unity3d.com/issues/scene-is-brighter-in-standalone-player-if-it-was-open-in-the-editor-at-build-time))
    
*   Text: Editor crashes on TextCore::FontEngine::GetSystemFontReferencesInternal when opening the project ([1382082](https://issuetracker.unity3d.com/issues/editor-crashes-on-textcore-fontengine-getsystemfontreferencesinternal-when-opening-the-project))
    
*   uGUI: Extra OnEnter and OnExit event calls when hovering over UI elements ([1394226](https://issuetracker.unity3d.com/issues/wrong-onenter-and-onexit-event-calls-when-hovering-over-ui-elements))
    
*   uGUI: Prefab is glitchy while editing in Prefab Mode when parent Canvas Render Mode is set to Screen Space - Camera ([1394756](https://issuetracker.unity3d.com/issues/prefab-is-glitchy-when-editing-in-prefab-mode-in-a-custom-ui-environment))
    
*   URP Features: Some lit Shaders are having huge count of variants which leads to project build prevention ([1378545](https://issuetracker.unity3d.com/issues/some-lit-shaders-are-having-huge-count-of-variants-which-leads-to-project-build-prevention))
    
*   URP Features: \[MacOS\] Getting Light artifacts in a Scene view with Spot Lights when Android Platform is selected in the Build Settings ([1392965](https://issuetracker.unity3d.com/issues/urp-macos-getting-light-artifacts-in-a-scene-view-with-spot-lights-when-android-platform-is-selected-in-the-build-settings))
    
*   Vulkan: \[Editor\] The Scene's GameObjects textures are seemingly random and change colours depending on the Scene's Camera pos. ([1337772](https://issuetracker.unity3d.com/issues/vulkan-editor-the-scenes-gameobjects-textures-are-seemingly-random-and-change-colours-depending-on-the-scenes-camera-pos))
    
*   Windows: Editor crashes or freezes with 'Copying file failed' error when importing a file from WinRAR Archiver ([1325310](https://issuetracker.unity3d.com/issues/editor-crashes-or-freezes-with-copying-file-failed-error-when-importing-a-file-from-winrar-archiver))
    
*   XR SDK: \[Linux\] Scene View doesn't render when opening new AR or VR Template project or pressing "Show Tutorials" ([1362435](https://issuetracker.unity3d.com/issues/xr-linux-scene-view-doesnt-render-when-opening-new-ar-or-vr-template-project-or-pressing-show-tutorials))
    

### 2021.2.9f1 Release Notes

#### Improvements

*   Build System: The linux clang toolchain is now built with a newer bootstrap compiler.
    
*   Editor: Optimized calculating the size of Undo operations. Making many changes to GameObjects should now be cheaper to add to the Undo system.
    
*   Physics: Improved the performance of recreating 2D colliders under some circumstances. ([1384863](https://issuetracker.unity3d.com/issues/physics2d-dot-destroyshapes-has-an-enormous-impact-on-performances-even-when-very-few-physics-shapes-exist))
    
*   XR: TryGetBoundaryPoints now returns proper boolean values.
    

#### API Changes

*   URP: Added: Adaptive Performance Decals scaler access.

#### Fixes

*   2D: Fixed case where Atlas Cache is inconsistent after disabling Sprite Packer and deleting atlases outside Unity Editor. ([1335900](https://issuetracker.unity3d.com/issues/atlas-cache-is-inconsistent-after-disabling-sprite-packer-and-deleting-atlases-outside-unity-editor))
    
*   2D: Fixed error for ITilemap.Finalize. ([1389416](https://issuetracker.unity3d.com/issues/2d-tilemap-handle-has-already-been-released-error))
    
*   AI: Fixed NavMesh.CalculatePath missing a link exit corner in some situations. ([1373302](https://issuetracker.unity3d.com/issues/the-navigation-system-returns-an-incorrect-path-when-links-are-involved))
    
*   Android: Fixed an issue where manifest was loosing some permission settings when enabling Split Application Binary for App Bundles. (1388806)
    
*   Android: Fixed an issue where the Unity icon was overriding the user specified default icon. ([1339828](https://issuetracker.unity3d.com/issues/android-the-default-icon-does-not-get-successfully-changed-to-another-icon))
    
*   Android: Fixed baking reflectionprobes with Vulkan Editor and build target Android. ([1344866](https://issuetracker.unity3d.com/issues/image-invalid-format-error-is-thrown-when-generating-lights-on-vulkan-graphics-api-and-android-build-target))
    
*   Asset Import: Fixed AssetImportWorkerProcessLoadsPrecompiledDll instability. (1385011)
    
*   Asset Pipeline: Fixed an issue where importing multiple fonts could cause errors to be thrown by the Asset Database. ([1370398](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-re-importing-asset-folders-containing-ttf-files))
    
*   Asset Pipeline: Fixed an issue where user fields in assets containing 'guid' could cause incorrect asset dependencies to be shown. ([1384729](https://issuetracker.unity3d.com/issues/incorrect-dependencies-in-assetdatabase-dot-getdependencies))
    
*   Asset Pipeline: Fixed an issue with prefabs reimporting on editor restart. (1382793)
    
*   Build Pipeline: Fixed an issue where throwing a BuildFailedException in PostProcessSceneAttribute callbacks would not fail the build. ([1327550](https://issuetracker.unity3d.com/issues/build-doesnt-fail-when-buildfailedexception-is-thrown-in-the-postprocessscene-callback-and-the-build-button-is-used))
    
*   Editor: Fixed a Crash in certain cases when editing multiple prefab instances. ([1383949](https://issuetracker.unity3d.com/issues/selecting-and-moving-many-items-simultaneously-causes-crash))
    
*   Editor: Fixed a crash on startup in the Custom Render Texture Manager for an old AVPro that's using Custom Render Texture for video interpolation. ([1362634](https://issuetracker.unity3d.com/issues/editor-crashes-after-assertion-failed-on-expression-input-end-equals-end-error-when-opening-game-view))
    
*   Editor: Fixed an issue and now DragAndDrop custom handler is allowed to override Drop on the scene view. ([1351057](https://issuetracker.unity3d.com/issues/draganddrop-dot-scenedrophandler-delegate-is-not-called-when-dragging-from-editorwindow))
    
*   Editor: Fixed crash when cacheserver was enabled but had no connection string. ([1373314](https://issuetracker.unity3d.com/issues/cacheserver-editor-crashes-when-ip-address-in-project-settings-is-empty))
    
*   GI: Fixed issues with overlapping lights using shadowmask and wide spot angles. (1367864)
    
*   Graphics: Fixed a crash when creating a CubemapArray RenderTexture on D3D12. ([1295010](https://issuetracker.unity3d.com/issues/srp-editor-crashes-when-creating-a-rendertexture-with-texturedimension-set-to-cubearray))
    
*   Graphics: Fixed an issue with the special Turkish i, when looking for the m\_IsGlobal property in VolumeEditor.
    
*   Graphics: Fixed IES profile importer handling of overflow (outside 0-1 range) of attenutation splines values.
    
*   Graphics: Fixed race condition when rendering shadows for multiple lights, and using Particle Systems, Line Renderers or Trail Renderers. (1376967)
    
*   Graphics: Fixed XR support in CoreUtils.DrawFullscreen function.
    
*   HDRP: Fixed a crash with render graph viewer when render graph is not provided with an execution name.
    
*   HDRP: Fixed a nullref when enabling raycount without ray tracing.
    
*   HDRP: Fixed a shader warning in the volumetric clouds combine file.
    
*   HDRP: Fixed a shader warning in UnityInstancing.hlsl.
    
*   HDRP: Fixed a warning because of a null texture in the lens flare pass.
    
*   HDRP: Fixed alpha channel display in color picker in Local Volumetric Fog component (the alpha is not used for the fog). (1381267)
    
*   HDRP: Fixed an issue with Stacklit raytrace reflection.
    
*   HDRP: Fixed AO dissapearing when DRS would be turned off through a camera, while hardware drs is active in DX12 or Vulkan.  
    Fixed an issue in DynamicResolutionHandler when camera request was turned off at runtime, the ScalableBufferManager would leak state and not unset DRS state. (1383093)
    
*   HDRP: Fixed atmospheric scattering being incorrectly enabled when scene lighting is disabled.
    
*   HDRP: Fixed auto-exposure mismatch between sky background and scene objects in path tracing.
    
*   HDRP: Fixed broken debug views when dynamic resolution was enabled. (1365368)
    
*   HDRP: Fixed broken rendering when duplicating a camera while the Rendering Debugger is opened.
    
*   HDRP: Fixed build warnings due to the exception in burst code. (1382827)
    
*   HDRP: Fixed camera bridge action in release build. ([1367866](https://issuetracker.unity3d.com/issues/hdrp-cameracapturebridge-is-not-invoked-on-release-player))
    
*   HDRP: Fixed CoC size computation when dynamic resolution is enabled.
    
*   HDRP: Fixed contact shadow disappearing when shadowmask is used and no non-static object is available.
    
*   HDRP: Fixed Correlated Color Temperature not being applied in Player builds for Enlighten realtime GI lights ;.
    
*   HDRP: Fixed custom pass utils Blur and Copy functions in XR.
    
*   HDRP: Fixed debug window reset.
    
*   HDRP: Fixed decal performances when they use different material and the same draw order.
    
*   HDRP: Fixed default numbder of physically based sky bounce from 8 to 3.
    
*   HDRP: Fixed default value of "Distortion Blur" from 1 to 0 according to the doc.
    
*   HDRP: Fixed dirtiness handling in path tracing, when using multiple cameras at once. ([1376940](https://issuetracker.unity3d.com/issues/hdrp-dxr-pathtracer-does-not-converge-when-theres-scene-view-and-game-view-side-by-side))
    
*   HDRP: Fixed edges and ghosting appearing on shadow matte due to the shadow being black outside the range of the light. (1371441)
    
*   HDRP: Fixed error thrown when layered lit material has an invalid material type.
    
*   HDRP: Fixed exception on DLSS when motion vectors are disabled (case # 1377986). (1377986)
    
*   HDRP: Fixed flickering / edge aliasing issue when DoF and TAAU or DLSS are enabled. ([1381858](https://issuetracker.unity3d.com/issues/hdrp-dof-gives-aliasing-artifacts-when-used-along-with-drs))
    
*   HDRP: Fixed FOV change when enabling physical camera.
    
*   HDRP: Fixed interpolation issue with wind orientation. (1379841)
    
*   HDRP: Fixed issue with typed loads on RGBA16F in Volumetric Lighting Filtering.
    
*   HDRP: Fixed layer lit shader UI.
    
*   HDRP: Fixed Lens Flare visible when being behind a camera with Panini Projection on. ([1370214](https://issuetracker.unity3d.com/issues/hdrp-srp-lens-flare-visible-when-being-behind-a-camera-with-panini-projection-on))
    
*   HDRP: Fixed light mode not available after switching a light to area "Disc" or "Tube". ([1372588](https://issuetracker.unity3d.com/issues/hdrp-error-switching-light-from-directional-to-tube-area))
    
*   HDRP: Fixed misc shader warnings.
    
*   HDRP: Fixed missing information in the tooltip of affects smooth surfaces of the ray traced reflections denoiser. (1376918)
    
*   HDRP: Fixed Nans happening due to volumetric clouds when the pixel color is perfectly black. ([1379185](https://issuetracker.unity3d.com/issues/scene-slash-game-view-is-flickering-to-fully-black-after-moving-viewpoint-when-volumetric-clouds-are-enabled))
    
*   HDRP: Fixed NeedMotionVectorForTransparent checking the wrong flag.
    
*   HDRP: Fixed Normal Map assiignation when importing FBX Materials.
    
*   HDRP: Fixed nullref from debug menu in release build. (1381556)
    
*   HDRP: Fixed objects belonging to preview scenes being marked as dirty during migration. ([1367204](https://issuetracker.unity3d.com/issues/prefabs-do-not-save-when-using-an-unsaved-scene-for-prefab-mode-regular-editing-environment))
    
*   HDRP: Fixed option to force motion blur off when in XR.
    
*   HDRP: Fixed range fields for depth of field. (1376609)
    
*   HDRP: Fixed rasterized accumulation motion blur when DoF is enabled. ([1378497](https://issuetracker.unity3d.com/issues/hdrp-accumulation-motion-blur-causes-visual-artifacts-with-depth-of-field))
    
*   HDRP: Fixed references to reflection probes that wouldn't be cleared when unloading a scene. ([1357459](https://issuetracker.unity3d.com/issues/reflection-probes-are-not-being-released-when-loading-another-scene))
    
*   HDRP: Fixed rendering in the editor when an incompatible API is added. ([1384634](https://issuetracker.unity3d.com/issues/hdrp-project-becomes-unusable-after-trying-to-switch-graphics-api-to-openglcore-and-back))
    
*   HDRP: Fixed screen space shadow debug view not showing when no shadows is available.
    
*   HDRP: Fixed shader graph errors when disabling the bias on texture samplers.
    
*   HDRP: Fixed shadow cascade transition not working properly with bias.
    
*   HDRP: Fixed SpeedTree graph compatibility by removing custom interpolators.
    
*   HDRP: Fixed spot light shadows near plane.
    
*   HDRP: Fixed stackLit coat screen space reflection and raytrace reflection light hierarchy and IBL fallback.
    
*   HDRP: Fixed taa jitter for after post process materials. (1380967)
    
*   HDRP: Fixed the behavior the max ray length for recursive rendering to match RTR and rasterization.
    
*   HDRP: Fixed the fade in mode of the clouds not impacting the volumetric clouds shadows. (1381652)
    
*   HDRP: Fixed the intensity of the sky being reduced signficantly even if there is no clouds. (1388279)
    
*   HDRP: Fixed the ray tracing fallbacks being broken since an Nvidia Driver Update.
    
*   HDRP: Fixed the rt screen space shadows not using the correct asset for allocating the history buffers.
    
*   HDRP: Fixed Tile/Cluster Debug in the Rendering Debugger for Decal and Local Volumetric Fog.
    
*   HDRP: Fixed timeline not updating PBR HDAdditionalLightData parameters properly.
    
*   HDRP: Fixed Transparent Depth Pre/Post pass by default for the built-in HDRP Hair shader graph.
    
*   HDRP: Fixed unsupported material properties show when rendering pass is Low Resolution.
    
*   HDRP: Fixed various issues with using SSR lighting with IBL fallback for Lit shader with clear coat. ([1380351](https://issuetracker.unity3d.com/issues/hdrp-ambient-occlusion-map-provides-darker-results-in-raytracing))
    
*   HDRP: Fixed write to VT feedback in debug modes. (1376874)
    
*   HDRP: Render Graph object pools are now cleared with render graph cleanup.
    
*   IL2CPP: Corrected the build of a Windows Standalone player with IL2CPP via the generated Visual Studio project. ([1379504](https://issuetracker.unity3d.com/issues/create-visual-studio-project-fails-for-windows-desktop-in-il2cpp-builds))
    
*   iOS: Fixed a rare crash when quiting app during orientation change. (1389840)
    
*   Linux: Fixed an issue where Linux Dedicated Server is unable to build if the Linux Standalone support is not installed.
    
*   macOS: Fixed a bug where Unity apps could crash if shut down quickly after startup. ([1272819](https://issuetracker.unity3d.com/issues/macos-built-player-crashes-sometimes-when-exiting-it))
    
*   Mobile: Fixed an issue where UaaL analytics might get stripped if code stripping is enabled. (1380042)
    
*   Package Manager: Handled InvalidCastException when the json sample data is not correct, and provided clearer messages for users and developers. ([1388453](https://issuetracker.unity3d.com/issues/adding-cinemachine-prod-version-from-disk-in-package-manager-results-in-invalidcastexception-specified-cast-is-not-valid))
    
*   Particles: Trail material is now restored if module is toggled off then on again. ([1363211](https://issuetracker.unity3d.com/issues/material-isnt-assigned-back-on-particle-trails-when-disabling-and-enabling-trails))
    
*   Physics: Fixed a crash when switching an ArticulationBody to immovable during a collision event. ([1338600](https://issuetracker.unity3d.com/issues/editor-crashes-on-physx-dy-pxssolverstarttask-setupdesctask-when-moving-articulation-body-gameobject-with-immovable-disabled))
    
*   Physics: Fixed ModifiableContactPair.GetFaceIndex not working in CCD generated callbacks. ([1381066](https://issuetracker.unity3d.com/issues/physics-incorrect-faceindex-on-certain-collisions-when-using-ccd))
    
*   Prefabs: Fixed missing required component causing import loop and log spamming. ([1319932](https://issuetracker.unity3d.com/issues/creating-missing-component-warnings-are-thrown-continuously-when-selecting-a-prefab))
    
*   Profiler: Fixed a crash when taking memory profiler snapshot with Players built with newer Unity versions. ([1386532](https://issuetracker.unity3d.com/issues/memory-profiler-capturing-player-built-with-higher-unity-version-crashes-the-editor))
    
*   Scripting: Cyclic assembly references error shows in SafeMode as well. (1307676)
    
*   Scripting: Fixed an issue where some properties and methods returning ScriptableObject\[\] would produce assertion error messages in the console. ([1352921](https://issuetracker.unity3d.com/issues/assertion-failed-error-is-thrown-when-accessing-animatorstate-dot-behaviours-in-debug-build-of-unity-editor))
    
*   Serialization: Fixed TypeTreeCache cache key computation. ([1377929](https://issuetracker.unity3d.com/issues/editor-and-player-crashes-on-build-when-the-built-scene-contains-a-dictionary-with-serializefield-and-added-values))
    
*   Shadergraph: Fixed a ShaderGraph warning when connecting a node using Object Space BiTangent to the vertex stage.
    
*   Shadergraph: Fixed a validation error in ShaderGraph when using the SimpleNoise node both inside and outside a subgraph.
    
*   Shadergraph: Fixed the behavior of checkerboard node with raytracing.
    
*   Shaders: Fixed a bug where the clearing of the shader cache for compute shaders was clearing some data that it shouldn't have. The requirements are only built during import so they should persist even when cleared. ([1370660](https://issuetracker.unity3d.com/issues/shaders-compute-number-pragma-require-flags-dont-persist-after-shader-cache-clear-and-are-not-reparsed-until-shader-is-changed))
    
*   Shaders: Fixed a compiler error with missing splat constructors with some platform compilers. ([1352016](https://issuetracker.unity3d.com/issues/glsl-compilation-fails-with-implicit-cast-from-float-to-vec2-error-when-using-opengl-slash-vulkan))
    
*   Shaders: Fixed a crash when using SV\_COVERAGE in a fragment input. ([1379259](https://issuetracker.unity3d.com/issues/android-sv-coverage-gets-mistranslated-from-hlsl-to-glsl-when-compiling-and-causing-a-compile-error))
    
*   Shaders: Fixed a memory leak with LocalKeywordState. ([1383319](https://issuetracker.unity3d.com/issues/tls-allocator-alloc-temp-tls-errors-when-rendering-shaders))
    
*   Shaders: Fixed a warning in surface shaders when setting dithercrossfade about upgrading to target 3.0 when the target was already sufficient. ([1358042](https://issuetracker.unity3d.com/issues/number-pragma-target-3-dot-0-compile-error-non-hlsl))
    
*   Shaders: Fixed an issue where the frame debugger was not properly displaying some types like integers with compute shaders. ([1345758](https://issuetracker.unity3d.com/issues/framedebugger-compute-shader-ints-showing-up-in-float-section-with-wrong-value))
    
*   UI Toolkit: Added null checks against UXML Traits returning null references. ([1372713](https://issuetracker.unity3d.com/issues/nullreferenceexception-error-appears-when-creating-uidocument-in-ui-toolkit))
    
*   UI Toolkit: Fixed issue where the UI Builder would not suggest variables defined in a uss attached to a theme. ([1369386](https://issuetracker.unity3d.com/issues/ui-builder-does-not-suggest-variables-defined-in-a-uss-attached-to-the-theme))
    
*   URP: Fixed a performance regression in the 2D renderer regarding the PostProcessPass.
    
*   URP: Fixed a regression where filtering the scene view yielded incorrect visual results.
    
*   URP: Fixed decal compilation issue on mac.
    
*   URP: Fixed incorrect light indexing on Windows Editor with Android target. ([1378103](https://issuetracker.unity3d.com/issues/mobile-urp-all-lights-are-emitting-light-from-one-light-spot-when-the-platform-is-set-to-android-or-ios))
    
*   URP: Fixed mismatch on some platforms between Editor-side and Runtime-side implementations of UnityEngine.Rendering.Universal.DecalRendererFeature.IsAutomaticDBuffer(). (1364134)
    
*   URP: VFX: Incorrect Decal rendering when rendescale is different than one. ([1343674](https://issuetracker.unity3d.com/issues/vfx-graph-forward-decal-has-sliding-issue-when-render-scale-property-of-urp-asset-is-being-tweaked))
    
*   VFX Graph: Fixed null reference exception when opening another VFX and a debug mode is enabled.
    
*   WebGL: Fixed Unity Editor hang on editor shutdown after doing WebGL Build and Run on Windows. ([1388413](https://issuetracker.unity3d.com/issues/web-platform-windows-after-build-and-run-editor-hangs-on-shutdown-on-windows))
    
*   Windows: Fixed an issue when setting a cursor, it was very slow when doing it for the first time for a particular texture. ([1373881](https://issuetracker.unity3d.com/issues/high-performance-when-an-icon-is-set-as-a-cursor-for-the-first-time-with-setcursor-on-windows))
    
*   Windows: Fixed an issue where touch up events getting missed in rare circumstances on some touchscreen devices. ([1322180](https://issuetracker.unity3d.com/issues/touch-inputs-ignored-or-miscalculated-after-spamming-input-repeatedly))
    
*   Windows: Fixed Input.touch APIs not working when both old and new input systems are enabled at the same time. ([1382924](https://issuetracker.unity3d.com/issues/input-dot-touch-apis-dont-work-when-both-new-and-old-input-systems-are-active))
    
*   XR: Fixed an issue where XRBeginFrame event was added to frame debugger even if VR wasn't enabled. (1374542)
    
*   XR: XR Management now creates XRGeneralSettingsPerBuildTarget in all places it is requested ensuring that if the loaders exist in the project then XR will be initialized regardless of whether the XR Plug-in Management window has been opened. (1378643)
    

#### Package changes in 2021.2.9f1

#### Packages updated

*   com.unity.burst: [1.6.0](https://docs.unity3d.com/Packages/com.unity.burst@1.6//changelog/CHANGELOG.html) → [1.6.3](https://docs.unity3d.com/Packages/com.unity.burst@1.6//changelog/CHANGELOG.html)
    
*   com.unity.purchasing.udp: [2.2.3](https://docs.unity3d.com/Packages/com.unity.purchasing.udp@2.2//changelog/CHANGELOG.html) → [2.2.4](https://docs.unity3d.com/Packages/com.unity.purchasing.udp@2.2//changelog/CHANGELOG.html)
    
*   com.unity.render-pipelines.core: [12.1.3](https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.render-pipelines.core@12.1//changelog/CHANGELOG.html)
    
*   com.unity.render-pipelines.high-definition: [12.1.3](https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition@12.1//changelog/CHANGELOG.html)
    
*   com.unity.render-pipelines.high-definition-config: [12.1.3](https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.render-pipelines.high-definition-config@12.1//changelog/CHANGELOG.html)
    
*   com.unity.render-pipelines.universal: [12.1.3](https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.render-pipelines.universal@12.1//changelog/CHANGELOG.html)
    
*   com.unity.shadergraph: [12.1.3](https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.shadergraph@12.1//changelog/CHANGELOG.html)
    
*   com.unity.visualeffectgraph: [12.1.3](https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html) → [12.1.4](https://docs.unity3d.com/Packages/com.unity.visualeffectgraph@12.1//changelog/CHANGELOG.html)
    
*   com.unity.xr.arcore: [4.2.1](https://docs.unity3d.com/Packages/com.unity.xr.arcore@4.2//changelog/CHANGELOG.html) → [4.2.2](https://docs.unity3d.com/Packages/com.unity.xr.arcore@4.2//changelog/CHANGELOG.html)
    
*   com.unity.xr.arfoundation: [4.2.1](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.2//changelog/CHANGELOG.html) → [4.2.2](https://docs.unity3d.com/Packages/com.unity.xr.arfoundation@4.2//changelog/CHANGELOG.html)
    
*   com.unity.xr.arkit: [4.2.1](https://docs.unity3d.com/Packages/com.unity.xr.arkit@4.2//changelog/CHANGELOG.html) → [4.2.2](https://docs.unity3d.com/Packages/com.unity.xr.arkit@4.2//changelog/CHANGELOG.html)
    
*   com.unity.xr.arkit-face-tracking: [4.2.1](https://docs.unity3d.com/Packages/com.unity.xr.arkit-face-tracking@4.2//changelog/CHANGELOG.html) → [4.2.2](https://docs.unity3d.com/Packages/com.unity.xr.arkit-face-tracking@4.2//changelog/CHANGELOG.html)
    
*   com.unity.xr.arsubsystems: [4.2.1](https://docs.unity3d.com/Packages/com.unity.xr.arsubsystems@4.2//changelog/CHANGELOG.html) → [4.2.2](https://docs.unity3d.com/Packages/com.unity.xr.arsubsystems@4.2//changelog/CHANGELOG.html)
    
*   com.unity.xr.oculus: [1.11.0](https://docs.unity3d.com/Packages/com.unity.xr.oculus@1.11//changelog/CHANGELOG.html) → [1.11.2](https://docs.unity3d.com/Packages/com.unity.xr.oculus@1.11//changelog/CHANGELOG.html)