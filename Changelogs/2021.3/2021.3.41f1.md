### Known Issues in 2021.3.41f1

- Asset - Database: Crash on GetAssetCachedInfoV2 when opening a project
    ([UUM-14959](https://issuetracker.unity3d.com/issues/crash-on-getassetcachedinfov2-when-opening-a-project))

- Asset Bundles: The resource is not properly referenced when there is a dependency on another asset bundle
    ([UUM-74871](https://issuetracker.unity3d.com/issues/the-resource-is-not-properly-referenced-when-there-is-a-dependency-on-another-asset-bundle))

- DirectX12: [DX12] Player crash on UnityMain when building HDRP Sample on Windows
    ([UUM-75100](https://issuetracker.unity3d.com/issues/dx12-player-crash-on-unitymain-when-building-hdrp-sample-on-windows))

- iOS: iOS Simulator SDK is missing ARM64 Architecture support
    ([UUM-2238](https://issuetracker.unity3d.com/issues/ios-simulator-sdk-is-missing-arm64-architecture-support))

- Kernel: VirtualFileSystem crash because of data races.
    ([UUM-72557](https://issuetracker.unity3d.com/issues/virtualfilesystem-crash-because-of-data-races))

- PhysX Integration: A 1000 times heavier GameObject will stutter when colliding with a lighter GameObject
    ([UUM-65366](https://issuetracker.unity3d.com/issues/a-1000-times-heavier-gameobject-will-stutter-when-colliding-with-a-lighter-gameobject))

- Templates Microgames: Errors are thrown when creating a new FPS Microgame template project
    ([UUM-76170](https://issuetracker.unity3d.com/issues/errors-are-thrown-when-creating-a-new-fps-microgame-template-project))



### 2021.3.41f1 Release Notes

#### Improvements

- Animation: Improved Animation Mode performance when using custom properties.
    ([UUM-73525](https://issuetracker.unity3d.com/issues/the-editor-freezes-when-changes-are-made-in-the-timeline-window-and-a-large-number-of-animation-curve-bindings-and-gameobjects-are-loaded))

- Documentation: Added notes about player build cache to PostProcessScene docs.
    ([UUM-69256](https://issuetracker.unity3d.com/issues/the-postprocesssceneattribute-is-not-called-when-the-project-is-built-more-than-once))

- Editor: Added details to the "incompatible keyword space" error message which is occasionally generated by shaders.
    ([UUM-58563](https://issuetracker.unity3d.com/issues/state-comes-from-incompatible-keyword-space-error-not-very-informative))

- Editor: The "Read/Write" toggle in the Texture Importer Inspector is now hidden for 2D Array and 3D textures, these shapes are always imported as readable in 2021.3 and earlier versions. Documentation has been updated as well.
    (UUM-68471)



#### Changes

- Android: Updated Gradle version to 7.5.1 \(from 6.7.1\), AGP version to 7.4.2 \(from 4.2.2\) and JDK to 11 \(from 1.8\).

- Version Control: Added "Undo unchanged" and "Undo checkouts keeping changes" options to pending changes view.

- Version Control: Changed the default ignore.conf to not ignore itself anymore.

- Version Control: Removed focus redirection after Check-in.



#### Fixes

- AI: Fixed an issue where NavMeshData belonging to a scene would remain loaded after the scene had been offloaded. This issue only occurred when the "Do not reload scene"-option has been checked in the editor settings.
    ([UUM-29346](https://issuetracker.unity3d.com/issues/navmesh-from-previous-scene-is-visible-after-going-into-play-mode-when-reload-scene-is-toggled-off))

- Android: Fixed build failure when targetSDK 34 and depending on androidX legacy library.
    ([UUM-74132](https://issuetracker.unity3d.com/issues/android-build-fails-in-unity-2021-when-targetsdk-34-and-depending-on-androidx-legacy-library))

- Android: Fixed detection of Play Asset Delivery support to avoid problems if there is play.core dependency in the project.
    (UUM-74252)

- Android: Fixed player crash when changing cursor multiple times.
    ([UUM-74941](https://issuetracker.unity3d.com/issues/android-the-player-crashes-when-changing-cursor-multiple-times-on-android))

- Android: To add activity null handling in isInMultiWindowMode API.
    ([UUM-71574](https://issuetracker.unity3d.com/issues/android-the-player-crashes-at-isinmultiwindowmode-when-using-lifecycle-methods))

- Animation: Fixed additive animations ever increasing non animated values.
    ([UUM-68376](https://issuetracker.unity3d.com/issues/gameobject-continues-to-increase-in-scale-when-the-animation-layers-blending-is-set-to-additive))

- Apple TV: Fixed tvOS simulator input crash.
    ([UUM-70232](https://issuetracker.unity3d.com/issues/tvos-project-crashes-on-startup-on-apple-tv-simulator-both-x86-64-and-arm64-architectures))

- Asset Bundles: Fixed an issue where an hash was added to the manifest file name when building AssetBundles.
    ([UUM-66821](https://issuetracker.unity3d.com/issues/scene-assetbundle-manifest-file-names-have-hashes-attached-when-assetbundles-are-built))

- Asset Bundles: Only call CollectAllSpriteAtlasesAndPack once when building AssetBundles.
    (UUM-73147)

- Build System: Fixed a potential crash when building.
    ([UUM-72309](https://issuetracker.unity3d.com/issues/crash-on-mono-array-length-when-building-a-project))

- Documentation: Fixed a typo in the Create your own overlay page of the documentation.

- Editor: Fixed a bug where UI Canvas using Screen Space render mode would use an incorrect game view size and behave erratically.
    ([UUM-73707](https://issuetracker.unity3d.com/issues/erratic-behavior-while-editing-ui-in-prefab-when-canvas-render-mode-is-set-to-screen-space-camera-option))

- Editor: Fixed a LinuxEditor crash calling WarpCursorPosition outside of PlayMode.
    ([UUM-71828](https://issuetracker.unity3d.com/issues/linux-crash-on-newinput-mousecallbacks-ioctl-when-warpcursorposition-function-is-called))

- Editor: Fixed an error when destroying a camera with a texture assigned to the TargetTexture property.
    ([UUM-2869](https://issuetracker.unity3d.com/issues/android-releasing-render-texture-that-is-set-as-camera-dot-targettexture-error-when-calling-resources-dot-unloadunusedassets))

- Editor: Fixed an issue that would cause the pan control on audio sources to not work properly in some cases.
    ([UUM-65071](https://issuetracker.unity3d.com/issues/audiosource-stereo-pan-property-doesnt-fully-mute-the-right-or-left-channel-when-using-a-videoplayer-attached-to-an-audiosource-and-setting-the-option-to-1-or-1))

- Editor: Fixed an issue where Texture.SetTextureSetting would take invalid values.
    ([UUM-63703](https://issuetracker.unity3d.com/issues/sprite-is-not-generated-when-its-texture-settings-are-changed-via-textureimportersettings))

- Editor: Fixed crash in LMDB_Transaction::AbortAndRestart\(\).
    (UUM-70115)

- Editor: Fixed decal material upgrade.

- Editor: Fixed failing importing of multi image EXR files with alternative channel names.
    ([UUM-62509](https://issuetracker.unity3d.com/issues/exr-import-fails-when-using-valid-exr-textures-from-alab-dataset))

- Editor: Fixed issues with menu item Id values going out of sync on windows.
    ([UUM-73047](https://issuetracker.unity3d.com/issues/custom-and-built-in-menu-items-stop-working-when-a-project-has-lots-of-menu-items))

- Editor: Fixed neutral Tonemapping artifacts when using 64-bit textures.
    ([UUM-55852](https://issuetracker.unity3d.com/issues/unlit-shader-graph-displays-incorrect-data-when-in-the-scene-view))

- Editor: Fixed unexpected error while switching between branches.

- Editor: Fixed wireframe not rendered in the Scene View.
    ([UUM-36914](https://issuetracker.unity3d.com/issues/objects-are-invisible-in-scene-view-when-using-wireframe-shading-mode))

- Editor: Hide a RenderMode field from Light Component in URP and removed related documentation.
    ([UUM-70283](https://issuetracker.unity3d.com/issues/important-slash-unimportant-setting-on-lights-doesnt-take-effect))

- Editor: Improved setlocale LC_NUMERIC guards.
    (UUM-58980)

- Graphics: Added validation that SetVertexAttribute\(\) streams doesnt create gaps.
    ([UUM-72229](https://issuetracker.unity3d.com/issues/no-error-is-logged-when-calling-the-setvertexbufferparams-incorrectly))

- Graphics: Fixed a crash on Linux Editor where Vulkan may recreate SwapChains while the previous SwapChain's images may still be in use by a command buffer.
    ([UUM-73447](https://issuetracker.unity3d.com/issues/linux-vulkan-crash-when-using-nvidia-drivers-545-and-graphics-api-set-to-vulkan))

- Graphics: Fixed an issue where material property block allocations were reported as "Unknown".
    ([UUM-71008](https://issuetracker.unity3d.com/issues/materialpropertyblocks-allocated-memory-is-displayed-under-unknown-when-observed-through-the-memory-profiler))

- Graphics: Fixed broken URL for documentation on Texture2D.
    ([UUM-74607](https://issuetracker.unity3d.com/issues/texture-2d-reference-links-to-missing-documentation))

- Graphics: Fixed Linear01DepthFromNear shader utility function on APIs with reversed Z buffer.
    ([UUM-19101](https://issuetracker.unity3d.com/issues/linear01depth-doesnt-return-different-values-depending-on-unity-reversed-z-when-graphics-api-is-not-openglcore))

- Graphics: Fixed Vulkan native rendering plugin returning an invalid texture when sampler configuration is updated.
    ([UUM-73757](https://issuetracker.unity3d.com/issues/nativeplugin-vulkan-image-gets-deleted-while-in-use-and-accesstexture-returns-an-invalid-texture-causing-a-crash-or-corruption-when-qualitysettings-dot-anisotropicfiltering-is-called))

- GraphView: Some Mac keyboard events not having mousePosition in the editor.
    ([UUM-62291](https://issuetracker.unity3d.com/issues/vfx-node-creation-window-opens-at-the-top-left-corner-of-the-screen-when-using-spacebar))

- HDRP: Fixed flickering when using Screen Space Reflection with asynchronous compute shaders on PS5.
    (UUM-70273)

- iOS: Small memory leak in UnityWebRequest \(custom HTTP headers\).
    ([UUM-73104](https://issuetracker.unity3d.com/issues/ios-memory-leaks-occur-when-unitywebrequest-dot-get-is-called))

- macOS: Fixed forward and back buttons being recognized as middle button.
    ([UUM-70259](https://issuetracker.unity3d.com/issues/macos-forward-and-backward-mouse-buttons-are-recognized-as-middle-mouse-button))

- macOS: Fixed Xcode project build failure when exporting a project where a package contains .xcprivacy file.
    ([UUM-74874](https://issuetracker.unity3d.com/issues/macos-xcode-project-build-fails-when-a-package-has-privacymanifest))

- Mono: Fixed memory leak when validating a SSL certificate.
    ([UUM-72433](https://issuetracker.unity3d.com/issues/ios-memory-leaks-when-using-the-sslstream-class))

- Package: Bug fixing cinemachine.

- Player: Fixed possible crash on shut down when custom player loop is set.
    ([UUM-72551](https://issuetracker.unity3d.com/issues/ios-crash-on-il2cpp-gc-gchandle-free-when-app-returns-to-foreground))

- Shaders: Fixed a runtime crash that could occur when loading shader sub-program parameters.
    ([UUM-70213](https://issuetracker.unity3d.com/issues/linux-player-crash-on-shader-srpbatcherinfosetup-when-opening-player-build))

- UI Toolkit: UI Toolkit foldout interaction enabled on controllers.
    ([UUM-73752](https://issuetracker.unity3d.com/issues/unable-to-select-ui-toolkit-foldout-element-when-using-a-gamepad-controller))

- Version Control: Fixed "Collection was modified" error when doing multiple renames in a row.

- Version Control: Fixed "item with the same key has already been added" error.

- Version Control: Fixed check in error if nothing is selected in the pending changes tree.

- Version Control: Fixed column sorting in pending changes view.

- Version Control: Fixed error after renaming a parent branch of the working branch.

- Version Control: Fixed failure to delete a .meta file when deleting a private folder from the pending changes.

- Version Control: Fixed hang on domain reload.

- Version Control: Fixed missing incoming changes after removing a branch.

- Version Control: Fixed text cut-off in filter rules dialog.

- Version Control: Fixed undo &amp; check-in operations not working when the current scene was never saved.

- Version Control: Fixed variables's value becoming clear after resolving conflict in inspector.

- Version Control: Moving folders in the Editor now correctly use the UVCS "Move" operation.

- Version Control: Removed misleading indication about shelves.

- Version Control: Supported workspace name with non-latin characters in Pending Changes.

- VFX Graph: Blackboard could be out of the screen when the VFX Graph window was too small.
    ([UUM-65513](https://issuetracker.unity3d.com/issues/layout-elements-are-missing-when-the-vfx-graph-window-is-docked-horizontally))

- Video: Editor freezes when playing videos with playback speed value &lt;1 and setting time via started callback.
    ([UUM-73115](https://issuetracker.unity3d.com/issues/editor-freezes-when-playing-videos-from-url-with-playback-speed-value-1-and-setting-time-via-started-callback))

- Video: Memory increases gradually when UWP webcam is opened/closed.
    ([UUM-62347](https://issuetracker.unity3d.com/issues/memory-increases-gradually-when-the-camera-is-opened-and-closed))

- Video: \[Android\] Player with the specific Video clip crashes on "/apex/com.android.runtime/lib/bionic/libc.so \(__memcpy_a53+96\)" when the video is bundled with other video clips and Codec is set to VP8. The first few seconds of the video audio is distorted on the Android Player.
    ([UUM-73032](https://issuetracker.unity3d.com/issues/android-player-with-the-specific-video-clip-crashes-on-slash-apex-slash-com-dot-android-dot-runtime-slash-lib-slash-bionic-slash-libc-dot-so-memcpy-a53-plus-96-when-the-video-is-bundled-with-other-video-clips-and-codec-is-set-to-vp8))

- Windows: Fixed issue with non-native Refreshrate not being restored in Exclusive Fullscreen mode upon restart.
    ([UUM-62542](https://issuetracker.unity3d.com/issues/player-refresh-rate-is-not-restored-after-restarting-when-setting-the-refresh-rate-to-a-non-native-one-in-exclusivefullscreen-mode))




#### Package changes in 2021.3.41f1

#### Packages updated

- com.unity.cinemachine: [2.10.0](https://docs.unity3d.com/Packages/com.unity.cinemachine@2.10//changelog/CHANGELOG.html) to [2.10.1](https://docs.unity3d.com/Packages/com.unity.cinemachine@2.10//changelog/CHANGELOG.html)

- com.unity.collab-proxy: [2.3.1](https://docs.unity3d.com/Packages/com.unity.collab-proxy@2.3//changelog/CHANGELOG.html) to [2.4.3](https://docs.unity3d.com/Packages/com.unity.collab-proxy@2.4//changelog/CHANGELOG.html)

- com.unity.ide.rider: [3.0.28](https://docs.unity3d.com/Packages/com.unity.ide.rider@3.0//changelog/CHANGELOG.html) to [3.0.31](https://docs.unity3d.com/Packages/com.unity.ide.rider@3.0//changelog/CHANGELOG.html)

- com.unity.services.friends: [1.0.0](https://docs.unity3d.com/Packages/com.unity.services.friends@1.0//changelog/CHANGELOG.html) to [1.1.0](https://docs.unity3d.com/Packages/com.unity.services.friends@1.1//changelog/CHANGELOG.html)

- com.unity.services.lobby: [1.1.0](https://docs.unity3d.com/Packages/com.unity.services.lobby@1.1//changelog/CHANGELOG.html) to [1.2.2](https://docs.unity3d.com/Packages/com.unity.services.lobby@1.2//changelog/CHANGELOG.html)

- com.unity.services.wire: [1.2.3](https://docs.unity3d.com/Packages/com.unity.services.wire@1.2//changelog/CHANGELOG.html) to [1.2.6](https://docs.unity3d.com/Packages/com.unity.services.wire@1.2//changelog/CHANGELOG.html)

- com.unity.microsoft.gdk: [1.0.0](https://docs.unity3d.com/Packages/com.unity.microsoft.gdk@1.0//changelog/CHANGELOG.html) to [1.1.0](https://docs.unity3d.com/Packages/com.unity.microsoft.gdk@1.1//changelog/CHANGELOG.html)

- com.unity.microsoft.gdk.tools: [1.0.0](https://docs.unity3d.com/Packages/com.unity.microsoft.gdk.tools@1.0//changelog/CHANGELOG.html) to [1.1.0](https://docs.unity3d.com/Packages/com.unity.microsoft.gdk.tools@1.1//changelog/CHANGELOG.html)