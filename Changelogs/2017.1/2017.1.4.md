## Release Notes

### Improvements

-   Android: Improve Ping performance on Android devices supporting ICMP sockets, see the documentation for more information.iOS: Expose APIs that allow changing home button hiding and system gesture deferral properties - on runtime.
-   Linux: Improved filesystem performance to handle large cache sizes
-   XBoxOne: Updated Mono to support dynamic function calls on Xbox One
-   XR: Update Oculus to version 1.20
-   XR: Update Google VR NDK to v1.100
-   XR: Updated Oculus to version 1.21
-   XR: Updated Oculus to version 1.22

### Fixes

-   AI: Fixed NavMeshAgents swapping to different NavMeshes when they are disabled and re-enabled right on an edge. (970718)
-   Android: Fixed an issue where the full-screen movie player didn\'t autorotate. (962450)
-   Android: Fixed Skybox distortion on specific Android devices with Vivante GC1000/GC2000 GPU. (967648 (903140)
-   Android: Fixed Android/OpenGLES Cubemap native texture not being registered correctly causing cubemap CopyTexture to native texture to fail. This also fixed Oculus Cubemap overlays not rendering. (1010786)
-   Android: Fixed ABIs not selected from the .aar plugins being included. (1027546 (1018967)
-   Android: Fixed a bug causing the loading of native audio plugins to fail on Android. (992023)
-   Android/OSX: Fixed android NDK download url to download zips and not bins or executables. (971226)
-   Animation: Fixed a crash caused by invoking QueryComponentByType() when code stripping is enabled. (989251) (938640)
-   Animation: Improved fix for creating an ongoing transition. (941945)
-   Animation: Fixed an issue that was causing the Editor to throw an exception when selecting animator transitions in an undocked preview window. (967380)
-   Animation: Fixed a crash when an animator reset was triggered during a StateMachineBehaviour awake. (907324)
-   AppleTV: Removed 2x App store icon slices that cause App Store validation to fail. (972927)
-   Asset Import: Fixed crash when importing fbx .meta files that contains references to non-existing scripts. (999831 (990267)
-   Asset Import: Fixed importing animation with negative custom framerate. (944221)
-   Audio: Fixed crash in AudioLowPassFilter on Switch. (975350)
-   Audio: Fixed a bug where the matrices passed to spatializer and ambisonic plugins could be set to the identity matrix briefly when a sound starts playing. (991034)
-   Build: Build no longer strict. (None)
-   Build Pipeline: Improved buildpipeline performance for large builds. (95944)
-   Editor: Fixed vsync not always off for scene view. (1009688)
-   Editor: Fixed errors related to temp TLS allocations. (926834 (921915)
-   Editor: Fixed \"Errors: \"Assertion failed: Editor Camera already has a render stack set\... recursive rendering\" and memory leak. (950671)
-   Editor: Fixed local assets being overwritten during collab update. (1014029 (952569)
-   Editor: Fixed dragging sliders producing multiple undo steps. (998407)
-   Editor: Fixed Input field staying highlighted after Enter key is pressed. (None)
-   Editor: Fixed Editor start when the network is poor. (1006537 (937499)
-   Editor: Fixed Skinned Mesh not being removed on undo. (925835)
-   Editor: Fixed undoing the activation of a UI layout component did not undo the side effects to the children RectTransforms. (1010406)
-   Editor: Fixed a Windows-specific crash in YAMLMerge when trying to merge files. (1001448)
-   Editor: Fixed various performance issues in YAMLMerge. (1001458)
-   Editor: Fixed driven RectTransforms causing a scene to be constantly flagged as dirty. (1010396 (966172))
-   Editor: Fixed various UnityEditor.VersionControl.Provider APIs when used with newly created VersionControl.Assets. (905161)
-   Editor: Fixed Editor crashes in \"RenderSelectionOutline\" when using ImageEffectAllowedInSceneView and set camera\'s targetTexture to null. (966404)
-   Editor: Adds an optional Async Query Mode for Perforce VCS integration (see Editor Settings) to stop the editor freezing when the Perforce connection has high latency. (922829)
-   Editor: Fixed being able to start multiple PlayMode and EditMode test runs at the same time from the test runner ui. (970697)
-   Editor: Fixed an issue where changing override format on a texture could cause Unity to crash. (961745)
-   Graphics: Fixed changing the projectors render queue in script not having an effect. (933548)
-   Graphics: Fixed OpenGL ES crash due to problem with cached VertexAttribArray. (994988)
-   Graphics: Fixed issue where DrawMeshInstanced calls will render with inverse normals if the previous draw call used negative scaling. (956919)
-   Graphics: Fixed crash during a visibility callback when a GameObject which was not visible is set inactive followed by setting a visible GameObject inactive. (968591)
-   Graphics: Fixed Vulkan validation layer errors associated with image barriers. (941149)
-   Graphics: Fixed crashes that can happen on DirectX12 with graphics jobs enabled to do with DynamicVBOs. (951091)
-   Graphics: Fixed potential hang on DirectX11 or DirectX12 when using different sized render targets and multiple cameras. (950907)
-   Graphics: Fixed D3D11 driver assert message and potential crash \"Invalid mask passed to GetVertexDeclaration() when using post-effect\". (None)
-   Graphics: Fixed specific case where not all requested shader variants ending up in an asset bundle. (948053)
-   Graphics: Fixed Vulkan validation layer errors (on Windows) when switching to fullscreen. (941149)
-   Graphics: Fixed projectors not being culled correctly to match Editor scene cameras. (954828)
-   Graphics: Fixed asserts and potential memory leaks when Skinned Mesh Renderers with the \"Update When Offscreen\" property enabled are not visible. (961692, 964998)
-   Graphics: Fixed case when some of the cameras don\'t render anything because depth buffer contains garbage. (907391)
-   Graphics: Added error message for graphics APIs that do not support texture wrap mode \"mirror once\" (Android Vulkan, Android GLES3 and WebGL). Christophe Riccio 912323. (912323)
-   Graphics: Fixed occasional rendering glitches in the Editor when using marquee selection to select dynamic geometry such as Particles, Lines and Trails. (1021655)
-   IL2CPP: Improved performance of IL2CPP player startup. (989476)
-   IL2CPP: Prevented an unlikely, but possible crash when default parameter values are used. (973052)
-   IL2CPP: Fixed a problem with the decimal to double conversion implementation with the new scripting runtime. (959791)
-   IL2CPP: Fixed a crash on iOS which can occur when a device is awakened during a blocking socket call with a SIGPIPE signal. (957651)
-   IL2CPP: Improved the performance of code conversion when many nested generic types are used. (975496)
-   Inspector: Fixed objects using HideAndDontSave being visible in preview windows, after being disabled and enabled. (963576)
-   iOS: Fixed Standard shader specular highlights on mobiles. (760222) (845851) (953606)
-   iOS: Added support for iPhone X second stage splash screen. (972995)
-   iOS: Metal: Fixed MSAA behavior when using RenderPass. (None)
-   iOS: Fixed Display.SetResolution to work at first frame. (1003886)(995079)
-   iOS: Fixed Standard - shader specular highlights on mobiles. (760222) (845851) (989093)
-   iOS: Fixed crash when creating texture from PNG image when cardboard VR is enabled. (1016616 (1013198)
-   iOS: Metal: Fixed ReadPixels() crash when reading out of active render texture\'s bounds. (990596) (981074)
-   iOS: Enabled landscape splashscreen for more iOS11 devices. (980304)
-   iOS: Fixed trampoline calling UI methods (\[UIApplication delegate\]) from background thread (case 956318). (956318)
-   iOS: Fixed problem on iPhone X with missing keyboard Done/Cancel buttons. (979006)
-   iOS: Fixed MSAA corner case causing warning messages and validation error on Metal. (983854)
-   iOS: Fixed videos started with Handheld.PlayFullScreenMovie not resuming after returning to the app in some circumstances. (954593)
-   iOS: Fixed for locked orientation app gets rotates from portrait to landscape when sharing to another app on iOS 8 & 9. (913856)
-   iOS: Fixed an issue where fullscreen movies could no longer be dismissed with a tap on iOS 11. (940608)
-   iOS: Fixed iOS 11 crash when application is launched from URL and airplay screen mirroring is enabled. (980360)
-   Linux: Fixed Linux touch input for mouse events. (947049)
-   Mobile: Fixed black screen on devices that do not support RGBA16F rendering to texture. (989654)
-   Multiplayer: Editor crashes on AddWebsocketHost on other instance to he same port. (1008385)
-   Multiplayer: Fixed server active disconnect client for web sockets. (None)
-   Multiplayer: Now skip soft socket error, to prevent host to be closed. (N/A)
-   OSX: Fixed crash in UnitcodeInputView during editor shutdown. (946958)
-   OSX: Fixed changing Input Manager entries causing the player to become unresponsive. (900969)
-   OSX: Fixed Metal API timeout crash due to very long frame times on weaker GPUs. (933610)
-   Particles: Fixed performance regression when using scripted emission and using Size modules. (983677)
-   Particles: Fixed crash after enabling certain modules via script (e.g. Size over Lifetime). (977710)
-   Particles: Fixed built-in particle shaders not working with HDR. (967476)
-   Particles: Fixed a crash when using scripted emission with a system that already contains particles, if certain modules are being used. (988854)
-   Performance Reporting: Report device model field for Managed Exceptions. (980806)
-   Physics: Fixed issue where Physics Debugger\'s layer mask does not filter GameObject correctly. (984402)
-   Physics: Fixed potential crash in Rigidbody::GetVelocity() when opening certain scenes. (984401)
-   Physics: Fixed crashes when loading new scene and activating cloth gameobject in coroutine. (984400)
-   Physics: Fixed PhysX crash when calling Physics.OverlapBoxNonAlloc on Android devices. (878407)
-   Profiler: Fixed FMOD causing performance regression when profiler attached. (999849)
-   Scene Management: Fixed crash in SplatMaterials::FindMaterialProperties when opening a scene with specific Material and Terrain combination. (919769)
-   Scripting: Fixed an issue causing GC allocation for UnityEvent handler without parameters in some cases. (978630)
-   Scripting: Fixed crash when using GitHub for Unity. (930358)
-   Scripting Upgrade: Fixed crash when using \'fixed\' statement on a string. (960555)
-   Scripting Upgrade: Fixed crash on exit when script debugger is enabled. (974228)
-   Scripting Upgrade: Fixed Android crash when NullReferenceException is raised. (954427)
-   Scripts Only Build: Fixed issue where a user could select a different destination than the last non-scripts only build. (978681)
-   Shaders: Fixed shader compiler crash when compiling specific D3D9 shaders. (1018526 (968997)
-   Shaders: Fixed incorrect translation to GLSL of compute shaders using bfi instructions with mask operators. (927339)
-   Shaders: Fixed case where some user shader keywords were handled incorrectly leading to compilation errors when building for standalone. (944334)
-   Shaders: Implement missing F32TO16 and F16TO32 opcode handling in HLSLcc shader conversion. (None)
-   Shaders: Fixed incorrect translation of shaders using resinfo with mask operators. (943340)
-   Shaders: Fixed an issue with the Shader Compiler which would result in GLSL based platforms not being able to compiler certain shaders. (919351)
-   Substance: Fixed a memory leak when using cloned ProceduralMaterials. (1005779)
-   UI: Fixed instances where Font.textureRebuilt would not be called even though the internal texture was regenerated. (940508)(939853)
-   UI: Fixed a crash where a transform was not reset causing parenting changes to be ignored. (1014356)
-   UI: Fixed issue where an assigned fallback font would not be used. (911613)
-   Universal Windows Platform: Fixed NotSupportedException being thrown on UWP builds with .NET scripting backend enabled when using Timeline. (966790)
-   Universal Windows Platform: Fix building player with IL2CPP player fails when there are plugins that are marked read-only in the project. (959795)
-   Universal Windows Platform: Fixed .NET native compiler crash when using List or List in a serializable class. (979741)
-   Universal Windows Platform: Fixed reference rewriter not fixing references for System.Net.Sockets.Socket when DLL where it\'s being referenced was compiled against .NET 3.5. (947209)
-   Universal Windows Platform: Fixed NavMeshObstacles being ignored on 64-bit master builds. (955086)
-   VCS: Fixed lightingdata.asset files getting re-opened in text mode in certain situations. (975920)
-   Video: Fixed videos being transcoded when switching platform even when they are cached in Cache Server. (963980)
-   Video: Fixed meta files being updated during platform switch when transcoded files are identical. (962118)
-   VR: Fixed shaders meant to be used in VR platforms will being included included in builds where VR support is disabled. (971945)
-   Web: Made Content-Disposition for file sections standard-compliant in UnityWebRequest and WWW. (980328)(974665)
-   Web: Fixed possible crash in UnityWebRequest on Windows platforms when using UnityWebRequest with custom download handler script. (None)
-   Web: UnityWebRequest: Improved performance for DownloadHandlerScript. (973260)
-   Web: UnityWebRequest: Fixed crash when checking AssetBundle download progress that gets aborted. (971875)
-   WebGL: Added indexedDB caching mechanism for XMLHttpRequest in WebGL. (937594)
-   WebGL: Fixed crash for relative URL in UnityWebRequest when exceptions are disabled. (970681)
-   WebGL: Fixed not handling playBuffer exception when there is no audio output on Safari. (994387)(960863)
-   WebGL: Fixed UnityWebRequest with relative URL when running with custom port. (971870)
-   Windows: Fixed mouse events for non-primary display on Windows standalone player. (None)
-   Windows: Fixed crash on startup when screen width/height player preferences get corrupted in the registry. (979198)
-   Windows: Fixed resolution dialog not showing monitor list and crashing on pressing \'Play\' button on some weird monitor setups. (996015)
-   Windows Standalone: Fixed a regression where a fullscreen application would be restored to the native resolution of the attached display after losing focus. The expected outcome was that it should be restored to the - original resolution that it was launched on. (972355)
-   XR: Fixed orientation settings being locked when VR Support is enabled, and updated info messages related to these settings. (986942)
-   XR: Fixed errors when building for Daydream and Cardboard with Proguard enabled. (949380)(946104)
-   XR: Updated Google VR NDK to 1.130 for Android/1.120 for iOS. (1011575 (991127)
-   XR: Fixed incorrect thread affinity setting on Gear VR. (None)

Revision: 9fd71167a288
