## Release notes

### Known Issues in 2021.1.6f1

-   Terrain: All the textures are cleared when creating Texture array([1323870](https://issuetracker.unity3d.com/issues/all-the-textures-are-cleared-when-creating-texture-array))

-   Global Illumination: Performance regression when baking light probes with a light cookie in the scene([1323393](https://issuetracker.unity3d.com/issues/performance-regression-when-baking-light-probes-with-a-light-cookie-in-the-scene))

-   Animation: AnimationEvent is fired late or isn\'t fired at all when Animation\'s \'Motion Time\' value is set manually([1324763](https://issuetracker.unity3d.com/issues/animationevent-is-fired-late-or-isnt-fired-at-all-when-animations-motion-time-value-is-set-manually))

-   DirectX12: Editor crashes on GfxDeviceD3D12Base::DrawBuffersCommon when switching between Scenes([1329083](https://issuetracker.unity3d.com/issues/editor-crashes-on-gfxdeviced3d12base-drawbufferscommon-when-switching-between-scenes))

-   AI: Crash with ComputeTileMeshJob when generating Navmesh([1329346](https://issuetracker.unity3d.com/issues/crash-with-computetilemeshjob-when-generating-navmesh))

-   Global Illumination: Reflection probes don\'t contain indirect scene lighting after the on-demand GI bake from the Lighting window([1324246](https://issuetracker.unity3d.com/issues/reflection-probes-doesnt-contain-indirect-scene-lighting-after-the-on-demand-gi-bake-from-the-lighting-window))

-   Animation: \[Performance Regression\] AnimationWindowState:get_allCurves takes approximately 5000ms to load animation in the Animation window([1320250](https://issuetracker.unity3d.com/issues/perfomance-regression-animationwindowstate-get-allcurves-takes-approximately-5000ms-to-load-animation-in-the-animation-window))

-   IL2CPP: Build fails when using a combination of messages, SyncVars and SyncList in a project([1328966](https://issuetracker.unity3d.com/issues/il2cpp-build-fails-when-using-a-combination-of-messages-syncvars-and-synclist-in-a-project))

-   Metal: Performance in Game View is significantly impacted by Gfx.WaitForPresentOnGfxThread when a second monitor is connected([1327408](https://issuetracker.unity3d.com/issues/performance-in-game-view-is-significantly-impacted-by-gfx-dot-waitforpresentongfxthread-when-a-second-monitor-is-connected))

-   Scene Management: Crash on BuildPrefabInstanceCorrespondingObjectMap when overriding nested prefab inside AssetDatabase.StartAssetEditing() block([1324978](https://issuetracker.unity3d.com/issues/crash-on-buildprefabinstancecorrespondingobjectmap-when-overriding-nested-prefab-inside-assetdatabase-dot-startassetediting-block))

-   Linux: Linux Editor crashes at \"\_XFreeX11XCBStructure\" when loading tutorials([1323204](https://issuetracker.unity3d.com/issues/linux-editor-crashes-at-xfreex11xcbstructure-when-loading-tutorials))

-   Packman: User can\'t easily configure location of both UPM and Asset Store package local cache([1317232](https://issuetracker.unity3d.com/issues/user-cant-easily-configure-location-of-both-upm-and-asset-store-package-local-cache))

-   Serialization: Crash in SerializedProperty::IsValid when reordering a SerializedProperty list([1320319](https://issuetracker.unity3d.com/issues/crash-in-serializedproperty-isvalid-when-reordering-a-serializedproperty-list))

-   Global Illumination: \[GPUPLM\] Crash in RadeonRaysMeshManager::RemoveGeometry while baking Terrain game object with 4k lightmaps on certain GPU([1255993](https://issuetracker.unity3d.com/issues/global-illumination-editor-crashes-while-baking-terrain-game-object-using-progressive-gpu-lightmapper))

-   Terrain: Terrain Lit Opacity as Density option causes alpha\'d areas on the 5th layer or greater to appear with artifacts([1283124](https://issuetracker.unity3d.com/issues/terrain-lit-opacity-as-density-option-causes-alphad-areas-on-the-5th-layer-or-greater-to-appear-with-artifacts))

-   Physics: OnTriggerEnter gets called after reparenting a RigidBody([1323883](https://issuetracker.unity3d.com/issues/onentertrigger-gets-called-after-reparenting-a-rigidbody))

-   Asset Import Pipeline: Prefab script field reference is lost when project is upgraded([1328724](https://issuetracker.unity3d.com/issues/prefab-script-field-reference-is-lost-when-project-is-upgraded))

-   WebGL: \"SharedArrayBuffer will require cross-origin isolation as of M91\" warning is thrown when launching Player on Chrome([1323832](https://issuetracker.unity3d.com/issues/webgl-sharedarraybuffer-will-require-cross-origin-isolation-as-of-m91-warning-is-thrown-when-launching-player-on-chrome))

-   HD RP: The camera doesn\'t rotate in HDRP Template with the SimpleCameraController.cs script([1326816](https://issuetracker.unity3d.com/issues/the-camera-doesnt-rotate-in-hdrp-template-with-the-simplecameracontroller-dot-cs-script))

-   Mobile: \[Android\] Build fails when there are 680 or more files in the Streaming Assets folder([1272592](https://issuetracker.unity3d.com/issues/android-build-fails-when-there-are-680-or-more-files-in-the-streaming-assets-folder))

-   IMGUI: Contents of a ModalUtility window are invisible when it is launched from a Unity Context Menu([1313636](https://issuetracker.unity3d.com/issues/error-displaying-showmodalutility-window))

-   Settings Window: Editor freezes when FixedTimestep value in the Preferences is set to 0/0([1326481](https://issuetracker.unity3d.com/issues/editor-freezes-when-fixedtimestep-value-in-the-preferences-is-set-to-0-slash-0))

-   2D: \[Skinning Editor\] Vertex can\'t be created after modifying Vertexes weight and when Sprite is from the .psb file([1322204](https://issuetracker.unity3d.com/issues/skinning-editor-vertex-cant-be-created-after-modifying-vertexes-weight-and-when-sprite-is-from-the-psb-file))

-   Terrain: Crash on TreeRenderer::WillRenderTrees when being in Play Mode for several seconds([1317966](https://issuetracker.unity3d.com/issues/crash-on-treerenderer-willrendertrees-when-being-in-play-mode-for-several-seconds))

-   Scripting: Increased Script Assembly reload time([1323490](https://issuetracker.unity3d.com/issues/increased-reload-time))

-   Scripting: Crashes on mono_class_init when entering Play Mode after recompiling scripts([1262671](https://issuetracker.unity3d.com/issues/crashes-on-mono-class-init-when-entering-play-mode-after-recompiling-scripts))

-   MacOS: \[macOS\] \"build is damaged and cannot be opened\" error when downloading Unity build from internet([1323501](https://issuetracker.unity3d.com/issues/macos-build-is-damaged-and-cannot-be-opened-error-when-downloading-unity-build-from-internet))

-   Asset Importers: Wintermute::Geometry::Verify errors are spammed when baking a Mesh with Mesh Compression set to Medium/High([1313968](https://issuetracker.unity3d.com/issues/wintermute-geometry-verify-errors-are-spammed-when-baking-a-mesh-with-mesh-compression-set-to-medium-slash-high))

-   2D: \[URP\] The Camera renders black screen when Post Processing is enabled in the 2D Renderer and in the Camera Component([1318500](https://issuetracker.unity3d.com/issues/urp-the-camera-renders-black-screen-when-post-processing-is-enabled-in-the-2d-renderer-and-in-the-camera-component))

### 2021.1.6f1 Release Notes

#### Features

-   Package: Polybrush 1.1.2.

#### Improvements

-   Editor: Added new devices to the Device Simulator:\
    -   Apple iPad Air 2\
    -   Apple iPad Air (4th generation)\
    -   Apple iPhone 12 mini\
    -   Apple iPhone 12\
    -   Apple iPhone 12 Pro\
    -   Apple iPhone 12 Pro Max\
    -   Apple iPhone SE (2nd generation)\
    -   Google Pixel 5\
    -   Huawei P40 Pro\
    -   OnePlus 7 Pro\
    -   Samsung Galaxy Z Fold2 5G\
    -   Samsung Galaxy Note10\
    -   Samsung Galaxy Note10+ 5G\
    -   Samsung Galaxy Note20 Ultra 5G\
    -   Samsung Galaxy S8\
    -   Samsung Galaxy S9\
    -   vivo NEX 3 5G\
    -   Xiaomi Mi A3.

#### Changes

-   Graphics: Updated SRP templates to 11.0.0.

#### Fixes

-   Android: Fixed AutoRotation not working on dual screen devices.([1259295](https://issuetracker.unity3d.com/issues/android-screen-orientation-is-not-working-on-second-display-of-lg-v50-after-the-initial-screen-rotation))

-   Android: Fixed black Unity view after pausing the app when in-app purchase dialog is shown.([1249179](https://issuetracker.unity3d.com/issues/android-black-screen-on-android-when-switching-app-during-in-app-purchase))

-   Asset Import: Allow materials to be extracted into packages.([1282867](https://issuetracker.unity3d.com/issues/couldnt-create-asset-file-error-is-thrown-when-extracting-materials-inside-packages-folder))

-   Asset Pipeline: Fixed a crash/assert when building and uploading shaders.(1314042)

-   Asset Pipeline: Fixed for crash that could occur when downloading assets from cache server.(1319521)

-   Asset Pipeline: Initialise Sprite Vertex Data during import to fix uninitialised memory causing non-deterministic imports.(1244086)

-   Asset Pipeline: Objects loaded during import in initial script refresh, are now unloaded.([1296506](https://issuetracker.unity3d.com/issues/urp-scriptableobject-serializefield-value-set-to-default-during-the-first-import))

-   Build Pipeline: Make build fail faster when strict mode build option is used.([1191481](https://issuetracker.unity3d.com/issues/build-callbacks-build-is-not-failing-when-buildfailedexception-is-thrown-in-the-postprocessscene-callback))

-   DX12: Fixed D3D12 memory leak with RenderTexture.enableRandomWrite (mostly happens when using SRPs with multiple cameras).(1329472)

-   Editor: Fixed an issue where exceptions are thrown while selecting specific console messages.([1317216](https://issuetracker.unity3d.com/issues/argumentoutofrangeexception-error-is-thrown-when-selecting-a-message-printed-in-the-console-with-specific-string))

-   Graphics: A CopyDepth pass was previously included which allowed users script access to \_CameraDepthTarget but this has been removed on the metal GPU families that use Tile-based renderers (iOS, Silicon-GPU), fixing the performance decrease that this was causing.([1298799](https://issuetracker.unity3d.com/issues/ios-copydepth-pass-is-present-in-the-legacy-deferred-render-pipeline-and-results-in-extra-render-target-memory-and-gpu-time))

-   Graphics: Fixed crash caused by using a compute pipeline object after it has been destroyed in Vulkan.(1327421)

-   Graphics: Fixed missing buffer binding through Shader.SetGlobalBuffer after dispatching compute.([1313736](https://issuetracker.unity3d.com/issues/urp-metal-mac-project-crashes-on-launch-when-binding-compute-buffer-to-shader))

-   IL2CPP: Fixed possible crash when attaching a debugger or setting breakpoints.([1327376](https://issuetracker.unity3d.com/issues/crash-when-attaching-script-debugging-process-to-device))

-   iOS: Fixed an issue where you are unable to combine the last input character in Text Input Field when character limit exists in some languages.([1321661](https://issuetracker.unity3d.com/issues/ios-unable-to-combine-the-last-input-character-in-text-input-field-when-character-limit-exists))

-   iOS: Fixed Time.unscaledDeltaTime getting wrong after the screen was locked.([1319890](https://issuetracker.unity3d.com/issues/ios-time-dot-unscaleddeltatime-becomes-high-when-locking-the-screen-when-using-ondemandrendering))

-   iOS: Fixed`      verticalOrientation     `deprecation warning text by adding missing information about`      ScreenOrientation.PortraitUpsideDown     `.([1307839](https://issuetracker.unity3d.com/issues/ios-verticalorientation-deprecation-warning-is-missing-information-about-screenorientation-dot-portraitupsidedown))

-   Linux: Reduced log spam when loading lots of assets.([1320406](https://issuetracker.unity3d.com/issues/linux-platformimageforiconforextension-editor-log-spam-when-closing-the-editor-after-importing-a-project))

-   Physics: Fixed a bug where tweaking ArticulationBody drive parameters would re-initialise anchors.([1315525](https://issuetracker.unity3d.com/issues/articulationbody-anchors-are-repositioned-even-when-any-unrelated-property-is-changed-in-the-inspector))

-   Physics: Fixed Articulation Body Components not responding to changes in the Inspector window at runtime.([1325234](https://issuetracker.unity3d.com/issues/articulation-body-immovable-and-usegravity-toggles-do-not-work-at-runtime))

-   Prefabs: Instantiating, duplicating or updating prefabs no longer disables and re-enables the whole hierarchy, just the prefab instance.([1269686](https://issuetracker.unity3d.com/issues/duplicating-a-prefab-instance-in-the-scene-will-cause-instances-of-the-same-prefab-to-be-disabled-and-re-enabled))

-   Profiler: On Mac, restoring defaults in the Profiler modules dropdown list now closes the dropdown list.([1323673](https://issuetracker.unity3d.com/issues/profiler-order-of-modules-fails-to-reset-on-using-the-restore-defaults-option-from-the-profiler))

-   Serialization: Fixed SerializedProperty::arraySize when multiple objects are selected and the array has been resized.([1327027](https://issuetracker.unity3d.com/issues/invalidoperationexception-is-thrown-when-attempting-to-delete-a-color-element-from-multi-selected-arrays))

-   UI Toolkit: Fixed 1297002: \[GraphView\] Graph Inspector window sticks to the mouse cursor on changing any dropdown value in Node settings.([1297002](https://issuetracker.unity3d.com/issues/hdrp-graph-inspector-window-sticks-to-the-mouse-cursor-on-changing-any-dropdown-value-in-node-settings))

-   XR: World space UI will now render in secondary cameras.(1326167)
